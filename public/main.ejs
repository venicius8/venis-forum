<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Página inicial</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light p-5">
    <div style="display: flex; justify-content: space-around;">
        <h1>Veni's Fórum</h1>
        <button class="bg-success rounded-3 text-light" onclick="window.location.href='/createpost'">Criar conteúdo</button>
    </div>
    <hr><br>

    <% contents.forEach(content => { %>
        <div onclick="window.location.href='/content/<%= content.id %>'"
            style="background-color: rgb(255, 255, 255); cursor: pointer;"
            class="shadow-sm rounded border mb-4 p-2">
            <div style="display: flex; justify-content: space-between; gap: 10px;">
                <div style="width: 70%;">
                    <h2><%= content.title %></h2>
                    <p><%= content.text.length > 360 ? content.text.slice(0, 345) + "... [ler mais]" : content.text %></p>
                </div>
                <% const response = responses.filter(response => response.responseId === content.id) %>
                <div style="display: flex; flex-direction: column;">
                    <p style="font-weight: 500;"><%= content.date %></p>
                    <p style="font-weight: 500;"><%= response.length === 0 ? 0 : response.length %> comentário(s)</p>
                </div>
            </div>
        </div>
    <% }); %>
</body>
</html>